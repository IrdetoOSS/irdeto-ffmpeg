/**
********************************************************************************
* @file         test_runner.c
* @brief        Irdeto unit-test runner
* @ingroup      fb2
* @author       Maksym Koshel (maksym.koshel@irdeto.com)
* @date         Jan 13, 2016
* @note         This file is autogenerated. To change something,
*               edit test_runner.c.in
* @copyright    Irdeto B.V. All rights reserved.
********************************************************************************
*/

// system includes
#include <stdio.h>
#include <stdlib.h>

// project local includes
#include "test_types.h"

// Function which might be executed during unit-testing
@TEST_CASE_SIGNATURES_LIST@

static const utest_ptr s_test_table[] = 
{
    @TEST_CASE_FUNCTIONS@
};

/**
********************************************************************************
* @brief    detector-fb2 unit-test runner entry point
* @param    [in] argc   Number of arguments
* @param    [in] argv   Arguments of the application
* @return   Return always 0 to the system
********************************************************************************
*/
int main(int argc, char* argv[])
{
    do
    {
        if (2 != argc)
        {
            printf("Something wrong with test environment\n");
            break;
        }

        unsigned int test_id = (unsigned int) atoi(argv[1]); ///< strtol ?

        TR_TYPE result = (s_test_table[test_id])();
        printf("%d", result);

    } while(0);

    return 0;
}
